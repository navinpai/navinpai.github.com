<!doctype html>
<html>
   <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <title>Bhai, Aaj Kaunsi Class Hai?</title>
      <script src="jquery.min.js"></script>
      <link href="style.css" rel="stylesheet" type="text/css">
      <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
      <script charset='utf-8' src='konami.js' type='text/javascript'></script>
   </head>
   <body>
      <div id="wrapper"><div id="header"></div></div>
      <div id="main">
         <table id="tt">
            <tr class="head">
               <td></td>
               <td class="head">9:30</td>
               <td class="head">11:15</td>
               <td class="head">2:00</td>
               <td class="head">3:30</td>
            </tr>
            <tr>
               <td class="head">MONDAY</td>
               <td id="a00"></td>
               <td id="a01"></td>
               <td id="a02"></td>
               <td id="a03"></td>
            </tr>
            <tr>
               <td class="head">TUESDAY</td>
               <td id="a10"></td>
               <td id="a11"></td>
               <td id="a12"></td>
               <td id="a13"></td>
            </tr>
            <tr>
               <td class="head">WEDNESDAY</td>
               <td id="a20"></td>
               <td id="a21"></td>
               <td class="meeting"  id="a22"></td>
               <td id="a23"></td>
            </tr>
            <tr>
               <td class="head">THURSDAY</td>
               <td id="a30"></td>
               <td id="a31"></td>
               <td id="a32"></td>
               <td id="a33"></td>
            </tr>
            <tr>
               <td class="head">FRIDAY</td>
               <td id="a40"></td>
               <td class="lm" id="a41"></td>
               <td id="a42"></td>
               <td id="a43"></td>
            </tr>
            <tr>
               <td class="head">SATURDAY</td>
               <td id="a50"></td>
               <td id="a51"></td>
               <td id="a52"></td>
               <td id="a53"></td>
            </tr>
         </table>
         <div id="options">
            <label>
               <select id="subject">
                  <option value="CSDS702">CS/DS 702 -Distributed Computing</option>
                  <option value="CSSE703">CS/SE 703 -Automated Formal Verification</option>
                  <option value="CSDS704">CS/DS 704 -Multi-Agent Systems</option>
                  <option value="CSDS706">CS/DS 706 -Machine Learning</option>
                  <option value="CSSE851">CS/SE 851 -Compiler Design</option>
                  <option value="CSNCE852">CS/NCE 852 -Network Security</option>
                  <option value="CS853">CS 853 -Approximation Algorithms</option>
                  <option value="CSNCE854">CS/NCE 854 -Digital Image Processing</option>
                  <option value="CS855">CS 855 -Data Visualization</option>
                  <option value="CS856">CS 856 -Advanced CG</option>
                  <option value="DS701">DS 701 -Advanced DBMS</option>
                  <option value="DS703">DS 703 -Geographic Information Systems</option>
                  <option value="DS707">DS 707 -Data Analytics</option>
                  <option value="DSNCE855">DS/NCE 855 -Designing Gaming Simulations</option>
                  <option value="SE701">SE 701 -Design Patterns and Enterprise System Development</option>
                  <option value="SE852">SE 852 -Usability Engineering</option>
                  <option value="SE853">SE 853 -Requirement Engineering</option>
                  <option value="NCE701">NCE 701 -Mobile Computing with IMS Architecture</option>
                  <option value="NCE851">NCE 851 -Mathematical Analysis of Networks</option>
                  <option value="NCE854">NCE 854 -Functional Verification of SOC Designs</option>
                  <option value="ITS701">ITS 701 -Economic and Social Impacts of Information Technology</option>
               </select>
            </label>
            <button class="but" id="addbutton">ADD</button>
            <button class="but" id="removebutton">REMOVE</button>
            <button class="but" id="clearbutton">CLEAR</button>
         </div>
      </div>
      <div id="footer">crafted with <span id="heart">â™¥</span> by <a href="http://lifeofnav.in">@navinpai</a></div>
      <script type="text/javascript" charset="utf-8">
         var fullnames = {"CSDS702":"Distributed Computing",
         "CSSE703":"Automated Formal Verification",
         "CSDS704":"Multi-Agent Systems",
         "CSDS706":"Machine Learning",
         "CSSE851":"Compiler Design",
         "CSNCE852":"Network Security",
         "CS853":"Approximation Algorithms",
         "CSNCE854":"Digital Image Processing",
         "CS855":"Data Visualization",
         "CS856":"Advanced CG",
         "DS701":"Advanced DBMS",
         "DS703":"Geographic Information Systems",
         "DS707":"Data Analytics",
         "DSNCE855":"Designing Gaming Simulations",
         "SE701":"Design Patterns and Enterprise SysDev",
         "SE852":"Usability Engineering",
         "SE853":"Requirement Engineering",
         "NCE701":"Mobile Computing with IMS Architecture",
         "NCE851":"Mathematical Analysis of Networks",
         "NCE854":"Functional Verification of SOC Designs",
         "ITS701":"Economic and Social Impacts of IT"         
         };
         
         $( document ).ready(function(){
         var resultJSON = '{    "00": [         "CS853",         "DS703",         "CSSE851"     ],   "01": [         "CSDS706",         "CS856", "NCE851"     ],  "02": [         "DSNCE855",         "ITS701" ,"CSSE703"    ],   "03": [         "DSNCE855" ,"ITS701"    ],   "10": [         "DS707",         "CSNCE852" ],   "11": [         "CSDS702",         "CSNCE854"],  "12": [         "NCE854",         "CSSE703",         "CS855"], "13": [         "SE853"     ],     "20": [         "CS853",         "DS703",         "CSSE851", "NCE701"     ],  "21": [         "CSDS706",         "CS856" , "NCE851"   ], "30": ["DS701",         "NCE701"     ],  "31": [         "CSDS702",         "CSNCE854" ],   "32": [            "DS707",      "NCE854",         "CS855" ],     "33": [         "SE701" ],  "40": [         "CSNCE852" ], "42": [         "CSDS704" ], "43": [         "CSDS704"     ],  "50": [         "SE701"     ],  "51": [         "SE853"     ],  "52": [         "SE852"     ], "53": [         "SE852"     ] }	';
         var result = $.parseJSON(resultJSON);
         
         
         $("#addbutton").click(function(){
         var notifications=true;
         var conflict=false;
         $.each(result, function(k, v) {
         	for(i=0;i<v.length;i++)
         		{	    
         			/*$.each(v[i],function(y,x){
         				console.log(y)
         				})	*/
         			if(v[i]==$("#subject").val()){
         			if(!$("#a"+k).is(':empty')){
         				conflict=true;
         				if($("#a"+k).text()==getsubjname($("#subject").val()) && notifications==true)
         					{
         						alert("Elective Already Added")
         						console.log(notifications)
         						notifications=false
         						console.log(notifications)
         						}
         				else if(notifications==true)
         					{
         						alert("Conflict with "+$("#a"+k).text());
         						notifications=false
         					}
         				}
         		}}
         		if(conflict==false){
         	for(i=0;i<v.length;i++)
         		if(v[i]==$("#subject").val()){
         			var subjname=$("#subject").val();
         			$("#a"+k).hide().text(getsubjname(subjname)).fadeIn();
         		}
         	}
         });	
         });
         
         var getsubjname=function(subjname){
         var a;
         $.each(fullnames, function(k, v) {
         if(k==subjname)
         {	a= v;
         }
         });
         return a;
         }
         
         $("#removebutton").click(function(){
         $.each(result, function(k, v) {
         	var subject="";
         	for(i=0;i<v.length;i++)
         		if(v[i]==$("#subject").val() && $("#a"+k).text()==getsubjname($("#subject").val())){
         			$("#a"+k).hide().text("").fadeIn()
         		}
         });	
         });
         
         function automate(){
         	$( "#clearbutton" ).trigger( "click" );
         	$('#subject>option:eq(3)').prop('selected', true);
         	$( "#addbutton" ).trigger( "click" );
         	$('#subject>option:eq(11)').prop('selected', true);
         	$( "#addbutton" ).trigger( "click" );
         	$('#subject>option:eq(13)').prop('selected', true);
         	$( "#addbutton" ).trigger( "click" );
         	};
         
         //Up Up Down Down Left Right Left Right B A
         var kkeys = [];
         var konamiString = "38,38,40,40,37,39,37,39,66,65";
         setupStuff();
         
         function setupStuff() {
         	if (window.addEventListener) {
         	window.addEventListener('keydown', function(e) {
         	kkeys.push(e.keyCode );
         	if (kkeys.toString().indexOf(konamiString) >= 0 )
         		{automate()
         		kkeys=[]}
         	}, true)
         	}
         	else if(document.body.attachEvent) {
         		document.body.attachEvent('onkeydown', function(e){
         		if (kkeys.toString().indexOf(konamiString) >= 0)	
         		{automate()
         		kkeys=[]
         		}
         }, true)
         }
         }
         
         
         $("#clearbutton")	.click(function(){
         	$("td").not(".head").text("");
         	$(".meeting").text("Faculty Meeting @ Board Room");
         	$(".lm").text("Lab Meetings");
         });
         
         $(".meeting").text("Faculty Meeting @ Board Room");
         $(".lm").text("Lab Meetings");
         });
      </script>
   </body>
</html>

